blogdown::new_site(theme = 'gcushen/hugo-academic')
blogdown::serve_site()
blogdown:::new_post_addin()
blogdown:::new_post_addin()
library(tidyverse)
library(tidyverse)
library(lubridate)
library(countrycode)
library(ggrepel)
library(prismatic)
library(ggsci)
library(paletteer)
library(distcrete)
library(magrittr)
library(rstan)
library(data.table)
library(gdata)
library(EnvStats)
library(matrixStats)
library(scales)
library(gridExtra)
library(ggpubr)
library(bayesplot)
library(cowplot)
library(plotly)
library(readxl)
pop<-4000000
cama_ocup <- read_excel("COVID_Oax/cam_ocup.xlsx")
muertes_mx <-
read_csv("https://raw.githubusercontent.com/mariorz/covid19-mx-time-series/master/data/covid19_deaths_mx.csv") %>%
pivot_longer(-Estado, names_to = "date", values_to = "deaths") %>%
mutate(date = dmy(date)) %>% rename(iso3c=Estado) %>%
group_by(iso3c)  %>%
mutate(new_deaths=c(0,diff(deaths)))  %>% ungroup() %>%
select(iso3c, date,deaths,new_deaths)
confirmados_mx <-
read_csv("https://raw.githubusercontent.com/mariorz/covid19-mx-time-series/master/data/covid19_confirmed_mx.csv") %>%
pivot_longer(-Estado, names_to = "date", values_to = "confirmed") %>%
mutate(date = dmy(date)) %>% rename(iso3c=Estado) %>%
group_by(iso3c)  %>%
mutate(new_confirmed=c(0,diff(confirmed)))  %>% ungroup() %>%
select(iso3c, date,confirmed,new_confirmed)
knitr::opts_chunk$set(echo = F)
library(tidyverse)
library(lubridate)
library(countrycode)
library(ggrepel)
library(prismatic)
library(ggsci)
library(paletteer)
library(distcrete)
library(magrittr)
library(rstan)
library(data.table)
library(gdata)
library(EnvStats)
library(matrixStats)
library(scales)
library(gridExtra)
library(ggpubr)
library(bayesplot)
library(cowplot)
library(plotly)
library(readxl)
pop<-4000000
cama_ocup <- read_excel("COVID_Oax/cam_ocup.xlsx")
muertes_mx <-
read_csv("https://raw.githubusercontent.com/mariorz/covid19-mx-time-series/master/data/covid19_deaths_mx.csv") %>%
pivot_longer(-Estado, names_to = "date", values_to = "deaths") %>%
mutate(date = dmy(date)) %>% rename(iso3c=Estado) %>%
group_by(iso3c)  %>%
mutate(new_deaths=c(0,diff(deaths)))  %>% ungroup() %>%
select(iso3c, date,deaths,new_deaths)
confirmados_mx <-
read_csv("https://raw.githubusercontent.com/mariorz/covid19-mx-time-series/master/data/covid19_confirmed_mx.csv") %>%
pivot_longer(-Estado, names_to = "date", values_to = "confirmed") %>%
mutate(date = dmy(date)) %>% rename(iso3c=Estado) %>%
group_by(iso3c)  %>%
mutate(new_confirmed=c(0,diff(confirmed)))  %>% ungroup() %>%
select(iso3c, date,confirmed,new_confirmed)
estados <- confirmados_mx %>%
full_join(muertes_mx, by = c("iso3c", "date"))
mexico<-estados %>%
group_by(date) %>%
summarise_at(vars(-iso3c),funs(sum)) %>% mutate(iso3c="MEX") %>% bind_rows(estados)
countries<-c("Oaxaca","Ciudad de México","Baja California","México","MEX")
percent <- function(x, digits = 2, format = "f", ...) {
paste0(formatC(100 * x, format = format, digits = digits, ...), "%")
}
source("utils/geom-stepribbon.r")
